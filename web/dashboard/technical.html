<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Technical Dashboard - Telecom X</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/components.css">
    <link rel="stylesheet" href="../css/animations.css">
    <script src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header-main">
                <h1>üî¨ Technical Dashboard</h1>
                <p class="subtitle">Advanced Analytics & ML Insights</p>
                <button class="btn btn-secondary" onclick="window.location.href='../index.html'">‚Üê Back to Main</button>
            </div>
        </header>

        <section class="kpis-container">
            <div class="kpi-card">
                <div class="kpi-icon">üéØ</div>
                <div class="kpi-content">
                    <h3>Model Accuracy</h3>
                    <div class="kpi-value">87.5%</div>
                    <div class="kpi-trend positive">‚Üó +2.1%</div>
                </div>
            </div>
            <div class="kpi-card">
                <div class="kpi-icon">üîÆ</div>
                <div class="kpi-content">
                    <h3>Precision</h3>
                    <div class="kpi-value">84.2%</div>
                    <div class="kpi-trend positive">‚Üó +1.8%</div>
                </div>
            </div>
            <div class="kpi-card">
                <div class="kpi-icon">üìä</div>
                <div class="kpi-content">
                    <h3>Recall</h3>
                    <div class="kpi-value">89.3%</div>
                    <div class="kpi-trend positive">‚Üó +2.5%</div>
                </div>
            </div>
        </section>

        <section class="charts-container">
            <div class="chart-card">
                <h3>Feature Importance</h3>
                <div id="featureImportanceChart"></div>
            </div>
            <div class="chart-card">
                <h3>Confusion Matrix</h3>
                <div id="confusionMatrixChart"></div>
            </div>
            <div class="chart-card">
                <h3>ROC Curve</h3>
                <div id="rocCurveChart"></div>
            </div>
            <div class="chart-card">
                <h3>Distribution Comparison</h3>
                <div id="distributionChart"></div>
            </div>
        </section>

        <section class="ai-insights">
            <h3>ü§ñ ML Model Insights</h3>
            <div class="insights-container">
                <div class="insight-item">
                    <div class="insight-icon">üéØ</div>
                    <div class="insight-content">
                        <strong>Top Feature:</strong> Tenure is the most predictive feature (importance: 0.32), followed by monthly charges (0.28)
                    </div>
                </div>
                <div class="insight-item">
                    <div class="insight-icon">üìä</div>
                    <div class="insight-content">
                        <strong>Model Performance:</strong> Random Forest achieves 87.5% accuracy with balanced precision-recall tradeoff
                    </div>
                </div>
                <div class="insight-item">
                    <div class="insight-icon">‚ö°</div>
                    <div class="insight-content">
                        <strong>Deployment Ready:</strong> Model shows consistent performance across validation sets - ready for production
                    </div>
                </div>
            </div>
        </section>
    </div>

    <script src="../js/language-manager.js"></script>
    <script src="../js/chart-renderer.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const renderer = new ChartRenderer();
            
            // Feature Importance
            const features = ['Tenure', 'Monthly Charges', 'Total Services', 'Contract Type', 'Risk Score'];
            const importance = [0.32, 0.28, 0.18, 0.14, 0.08];
            const featurePlot = [{
                y: features,
                x: importance,
                type: 'bar',
                orientation: 'h',
                marker: { color: '#667eea' }
            }];
            Plotly.newPlot('featureImportanceChart', featurePlot, renderer.defaultLayout, {responsive: true, displayModeBar: false});
            
            // Confusion Matrix
            const confMatrix = [{
                z: [[245, 32], [28, 195]],
                x: ['Predicted Negative', 'Predicted Positive'],
                y: ['Actual Negative', 'Actual Positive'],
                type: 'heatmap',
                colorscale: 'Blues'
            }];
            Plotly.newPlot('confusionMatrixChart', confMatrix, renderer.defaultLayout, {responsive: true, displayModeBar: false});
            
            // ROC Curve
            const rocPlot = [{
                x: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0],
                y: [0, 0.3, 0.5, 0.65, 0.75, 0.82, 0.87, 0.91, 0.94, 0.97, 1.0],
                type: 'scatter',
                mode: 'lines',
                line: { color: '#f093fb', width: 3 }
            }];
            Plotly.newPlot('rocCurveChart', rocPlot, renderer.defaultLayout, {responsive: true, displayModeBar: false});
            
            // Distribution
            const distPlot = [{
                x: Array.from({length: 50}, () => Math.random() * 100),
                name: 'Churned',
                type: 'histogram',
                marker: { color: '#f093fb' }
            }, {
                x: Array.from({length: 150}, () => Math.random() * 100),
                name: 'Active',
                type: 'histogram',
                marker: { color: '#667eea' }
            }];
            Plotly.newPlot('distributionChart', distPlot, {...renderer.defaultLayout, barmode: 'overlay'}, {responsive: true, displayModeBar: false});
        });
    </script>
</body>
</html>
